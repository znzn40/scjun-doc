---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/FetchEvent_clone
---



<bdi>我们的志愿者还没有将这篇文章翻译为<bdi>中文 (简体)</bdi>。[加入我们帮助完成翻译](%14339 "")<br></br>您也可以阅读此文章的[English (US)](%14340 "")版。</bdi>






**This is an[experimental technology](%3404 "")**<br></br>Check the[Browser compatibility table](%14341 "")carefully before using this in production.




The`InstallEvent`interface represents an install action that is dispatched on the[`ServiceWorkerGlobalScope`](%4888 "The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker.")of a[`ServiceWorker`](%4351 "The ServiceWorker interface of the ServiceWorker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object."). As a child of[`ExtendableEvent`](%10742 "The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.")it ensures that functional events (like[`FetchEvent`](%14342 "This is the event type for fetch events dispatched on the service worker global scope. It contains information about the fetch, including the request and how the receiver will treat the response. It provides the event.respondWith() method, which allows us to provide a response to this fetch.")) are not dispatched during installation.


## Properties<a name="Properties"></a>


<em>Inherits properties from its ancestor,[`Event`](%3943 "The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events, some of which use other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events.")</em>.


## Methods<a name="Methods"></a>


<em>Inherits methods from its parent,</em><em>[`ExtendableEvent`](%10742 "The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.")</em>.


## Examples<a name="Examples"></a>


This code snippet is from the[service worker fetch sample](%10727 ""). The code calls[`ExtendableEvent.waitUntil(any value)`](%14343 "The extendableEvent.waitUntil() method tells the event dispatcher that work is ongoing. It can also be used to detect whether that work was successful. In service workers, waitUntil() tells the browser that work is ongoing until the promise settles, and it shouldn't terminate the service worker if it wants that work to complete.")in[`ServiceWorkerGlobalScope.oninstall`](%14344 ""), delaying treating the[`ServiceWorkerRegistration.installing`](%14345 "The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null.")worker as installed until the passed promise resolves successfully. The promise resolves when all resources have been fetched and cached, or else when any exception occurs.



The code snippet also shows a best practice for versioning caches used by the service worker. Though there&#39;s only one cache in this example, the same approach can be used for multiple caches. It maps a shorthand identifier for a cache to a specific, versioned cache name.



**Note**: Logging statements are visible via the &quot;Inspect&quot; interface for the relevant SW accessed via chrome://serviceworker-internals.



```
var CACHE_VERSION = 1;
var CURRENT_CACHES = {
  prefetch: 'prefetch-cache-v' + CACHE_VERSION
};

self.addEventListener('install', function(event) {
  var urlsToPrefetch = [
    './static/pre_fetched.txt',
    './static/pre_fetched.html',
    'https://www.chromium.org/_/rsrc/1302286216006/config/customLogo.gif'
  ];

console.log('Handling install event. Resources to pre-fetch:', urlsToPrefetch);

  event.waitUntil(
    caches.open(CURRENT_CACHES['prefetch']).then(function(cache) {
      cache.addAll(urlsToPrefetch.map(function(urlToPrefetch) {
        return new Request(urlToPrefetch, {mode: 'no-cors'});
      })).then(function() {
        console.log('All resources have been fetched and cached.');
      });
    }).catch(function(error) {
      console.error('Pre-fetching failed:', error);
    })
  );
});
```

## Specifications<a name="Specifications"></a>
Specification | Status | Comment 
[Service Workers<br></br><small>The definition of &#39;FetchEvent&#39; in that specification.</small>](%14346 "") | Working Draft | Initial definition. 


## Browser compatibility<a name="Browser_compatibility"></a>


**[We&#39;re converting our compatibility data into a machine-readable JSON format](%3344 "")**. This compatibility table still uses the old format, because we haven&#39;t yet converted the data it contains.**[Find out how you can help!](%3409 "")**


* 
* 
Feature | Chrome | Firefox (Gecko) | Internet Explorer | Opera | Safari (WebKit) 
Basic support | 40.0 | No support | No support | 24 | No support 





## See also<a name="See_also"></a>

* [`Promise`](%4237 "The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value.")
* [Fetch API](%3357 "")



## 文档标签和贡献者
**标签：**
* [API](%50 "")
* [Experimental](%3379 "")
* [Expérimental(2)](%4792 "")
* [Interface](%3380 "")
* [Offline](%4708 "")
* [Reference](%3381 "")
* [Référence(2)](%3892 "")
* [Service Workers](%4709 "")
* [Workers](%4862 "")

**此页面的贡献者：**[kscarfone](%3900 ""),[jpmedley](%3413 "")
**最后编辑者:**[kscarfone](%3900 ""),<time>Mar 18, 2015, 3:49:30 PM</time>


