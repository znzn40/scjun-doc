---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/MediaKeySession
---



这篇翻译不完整。请帮忙从英语[翻译这篇文章]14708 "")。






**这是一个实验中的功能**<br></br>此功能某些浏览器尚在开发中，请参考[浏览器兼容性表格](%2880#Browser_compatibility "")以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。




The`**MediaKeySession**`interface of the[EncryptedMediaExtensions API]14697 "")represents a context for message exchange with a content decryption module (CDM).


## Properties<a name="Properties"></a>
<dl><dt>[`MediaKeySession.closed`]14710 "此页面仍未被本地化, 期待您的翻译!")只读</dt><dd>Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")signaling when a`MediaKeySession`closes. This promise can only be fulfilled and is never rejected. Closing a session means that licenses and keys associated with it are no longer valid for decrypting media data.</dd><dt>[`MediaKeySession.expiration`]14711 "此页面仍未被本地化, 期待您的翻译!")只读</dt><dd>The time after which the keys in the current session can no longer be used to decrypt media data, or`NaN`if no such time exists. This value is determined by the CDM and measured in milliseconds since January 1, 1970, UTC. This value may change during a session lifetime, such as when an action triggers the start of a window.</dd><dt>[`MediaKeySession.keyStatuses`]14712 "此页面仍未被本地化, 期待您的翻译!")只读</dt><dd>Contains a reference to a read-only[`MediaKeyStatusMap`]2881 "此页面仍未被本地化, 期待您的翻译!")of the current session&#39;s keys and their statuses.</dd><dt>[`MediaKeySession.sessionId`]14713 "此页面仍未被本地化, 期待您的翻译!")只读</dt><dd>Contains a unique string generated by the CDM for the current media object and its associated keys or licenses.</dd></dl>
### Event handlers<a name="Event_handlers"></a>
<dl><dt>[`MediaKeySession.onkeystatuseschange`]14714 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>Sets the[`EventHandler`]3762 "此页面仍未被本地化, 期待您的翻译!")called when there has been a change in the keys in a session or their statuses.</dd><dt>[`MediaKeySession.onmessage`]14715 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>Sets the[`EventHandler`]3762 "此页面仍未被本地化, 期待您的翻译!")called when the content decryption module has generated a message for the session.</dd></dl>
## Methods<a name="Methods"></a>
<dl><dt>[`MediaKeySession.close()`]14716 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>

Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")after notifying the current media session is no longer needed and that the CDM should release any resources associated with this object and close it.

</dd><dt>[`MediaKeySession.generateRequest()`]14717 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")after generating a media request based on initialization data.</dd><dt>[`MediaKeySession.load()`]14718 "该MediaKeySession.load()方法返回一个Promise，它在加载指定的会话对象的数据后解析为一个布尔值。")</dt><dd>Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")that resolves to a boolean value after loading data for a specified session object.</dd><dt>[`MediaKeySession.remove()`]14719 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")after removing any session data associated with the current object.</dd><dt>[`MediaKeySession.update()`]14720 "此页面仍未被本地化, 期待您的翻译!")</dt><dd>Returns a[`Promise`]4107 "Promise 对象用于表示一个异步操作的最终状态（完成或失败），以及其返回的值。")after loading messages and licenses to the CDM.</dd></dl>
## Examples<a name="Examples"></a>

```
// TBD
```

## Specifications<a name="Specifications"></a>
Specification | Status | Comment 
[Encrypted Media Extensions<br></br><small>MediaKeySession</small>]14721 "") | Recommendation | Initial definition. 


## Browser compatibility<a name="Browser_compatibility"></a>


**[We&#39;re converting our compatibility data into a machine-readable JSON format]3344 "")**. This compatibility table still uses the old format, because we haven&#39;t yet converted the data it contains.**[Find out how you can help!]3392 "")**


* 
* 
Feature | Chrome | Edge | Firefox (Gecko) | Internet Explorer | Opera | Safari (WebKit) 
Basic support | 42.0 | (Yes) | ? | ? | (Yes) | ? 
`onkeystatuseschange`and`onmessage` | 55.0 | ? | ? | ? | 42 | ? 







## 文档标签和贡献者
**标签：**
* [API]50 "")
* [Audio]3822 "")
* [EncryptedMediaExtensions]14705 "")
* [Interface]3380 "")
* [Media]3827 "")
* [MediaKeySession]14722 "")
* [NeedsExample]13047 "")
* [NeedsTranslation]4036 "")
* [Reference]3381 "")
* [TopicStub]4037 "")
* [Video]4182 "")

**此页面的贡献者：**[Sheppy]405 "")
**最后编辑者:**[Sheppy]405 ""),<time>Apr 17, 2017, 8:42:15 AM</time>


