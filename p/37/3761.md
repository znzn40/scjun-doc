---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBufferSourceNode/onended
---





The`onended`event handler for the`AudioScheduledSourceNode`interface specifies an[`EventHandler`]4338 "A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:")to be executed when the`[ended]3967 "/en-US/docs/Web/Events/ended")`event occurs on the node. This event is sent to the node when the concrete interface (such as[`AudioBufferSourceNode`]3873 "The AudioBufferSourceNode interface is an AudioScheduledSourceNode which represents an audio source consisting of in-memory audio data, stored in an AudioBuffer. It's especially useful for playing back audio which has particularly stringent timing accuracy requirements, such as for sounds that must match a specific rhythm and can be kept in memory rather than being played from disk or the network."),[`OscillatorNode`]3965 "The OscillatorNode interface represents a periodic waveform, such as a sine wave. It is an AudioScheduledSourceNode audio-processing module that causes a specified frequency of a given wave to be created—in effect, a constant tone."), or[`ConstantSourceNode`]3966 "The ConstantSourceNode interface—part of the Web Audio API—represents an audio source (based upon AudioScheduledSourceNode) whose output is single unchanging value. This makes it useful for cases in which you need a constant value coming in from an audio source. In addition, it can be used like a constructible AudioParam by automating the value of its offset or by connecting another node to it; see Controlling multiple parameters with ConstantSourceNode.")) determines that it has stopped playing.



The`[ended]3967 "/en-US/docs/Web/Events/ended")`event is only sent to a node configured to loop automatically when the node is stopped using its[`stop()`]3963 "The stop() method on AudioScheduledSourceNode schedules a sound to cease playback at the specified time. If no time is specified, then the sound stops playing immediately.")method. This is the case, for example, when using an[`AudioBufferSourceNode`]3873 "The AudioBufferSourceNode interface is an AudioScheduledSourceNode which represents an audio source consisting of in-memory audio data, stored in an AudioBuffer. It's especially useful for playing back audio which has particularly stringent timing accuracy requirements, such as for sounds that must match a specific rhythm and can be kept in memory rather than being played from disk or the network.")with its[`loop`]14134 "The loop property's default value is false.")property set to`true`.



## Syntax<a name="Syntax"></a>

```
AudioScheduledSourceNode.onended = EventHandler;

```

### Value<a name="Value"></a>


A function which is called by the browser when the`[ended]3967 "/en-US/docs/Web/Events/ended")`event occurs on the[`AudioScheduledSourceNode`]3961 "The AudioScheduledSourceNode interface—part of the Web Audio API—is a parent interface for several types of audio source node interfaces which share the ability to be started and stopped, optionally at specified times. Specifically, this interface defines the start() and stop() methods, as well as the onended event handler."). The function receives as input a single parameter, which is an object of type[`Event`]3943 "The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events, some of which use other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events.")describing the event that occurred.


## Example<a name="Example"></a>


In this simple example, an event listener for the`[ended]3967 "/en-US/docs/Web/Events/ended")`event is set up to enable a &quot;Start&quot; button in the user interface when the node stops playing.


```
node.onended = function(event) {
  document.getElementById("startButton").disabled = false;
}
```

## Specifications<a name="Specifications"></a>
Specification | Status | Comment 
 ---  |  ---  |  ---  | 
[Web Audio API<br></br><small>The definition of &#39;onended&#39; in that specification.</small>]3968 "") | Working Draft | Initial specification. 


## Browser compatibility<a name="Browser_compatibility"></a>
[New compatibility tables are in beta<i></i>]3360 "")
<abbr>Desktop<i></i></abbr> | <abbr>Mobile<i></i></abbr> 
<abbr>Chrome<i></i></abbr> | <abbr>Edge<i></i></abbr> | <abbr>Firefox<i></i></abbr> | <abbr>Internet Explorer<i></i></abbr> | <abbr>Opera<i></i></abbr> | <abbr>Safari<i></i></abbr> | <abbr>Android webview<i></i></abbr> | <abbr>Chrome for Android<i></i></abbr> | <abbr>Edge Mobile<i></i></abbr> | <abbr>Firefox for Android<i></i></abbr> | <abbr>Opera for Android<i></i></abbr> | <abbr>iOS Safari<i></i></abbr> | <abbr>Samsung Internet<i></i></abbr> 
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  | 
Basic support | <abbr>Full support</abbr>57 | <abbr>?</abbr> | <abbr>Full support</abbr>53 | <abbr>No support</abbr>No | <abbr>Full support</abbr>15 | <abbr>?</abbr> | <abbr>Full support</abbr>57 | <abbr>Full support</abbr>57 | <abbr>?</abbr> | <abbr>Full support</abbr>25 | <abbr>Full support</abbr>15 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 


### Legend<a name="Legend"></a>
<dl><dt id=''><abbr>Full support</abbr></dt><dd>Full support</dd><dt id=''><abbr>No support</abbr></dt><dd>No support</dd><dt id=''><abbr>Compatibility unknown</abbr></dt><dd>Compatibility unknown</dd><dt id=''><abbr>See implementation notes.<i></i></abbr></dt><dd>See implementation notes.</dd></dl>

## See also<a name="See_also"></a>

* The`[ended]3967 "/en-US/docs/Web/Events/ended")`event and its type,[`Event`]3943 "The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events, some of which use other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events.").
* [`AudioScheduledSourceNode`]3961 "The AudioScheduledSourceNode interface—part of the Web Audio API—is a parent interface for several types of audio source node interfaces which share the ability to be started and stopped, optionally at specified times. Specifically, this interface defines the start() and stop() methods, as well as the onended event handler.")
* [Web Audio API]417 "")



## Document Tags and Contributors
**Tags:**
* [API]22815 "")
* [Audio]22816 "")
* [AudioBufferSourceNode]22817 "")
* [AudioScheduledSourceNode]22818 "")
* [ConstantSourceNode]22819 "")
* [Event Handler]22820 "")
* [Media]22821 "")
* [onended]22822 "")
* [OscillatorNode]22823 "")
* [Property]22824 "")
* [Web Audio API]22825 "")

**Contributors to this page:**[fscholz]22202 ""),[Sheppy]22371 ""),[jpmedley]22826 "")
**Last updated by:**[fscholz]22202 ""),<time>Oct 12, 2017, 5:48:35 AM</time>


