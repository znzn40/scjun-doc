---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/SecurityPolicyViolationEvent
---



<bdi>我们的志愿者还没有将这篇文章翻译为<bdi>中文 (简体)</bdi>。[加入我们帮助完成翻译](%18403 "")<br></br>您也可以阅读此文章的[English (US)](%18404 "")版。</bdi>






**This is an[experimental technology](%3404 "")**<br></br>Check the[Browser compatibility table](%18405 "")carefully before using this in production.




The**`SecurityPolicyViolationEvent`**interface inherits from[`Event`](%3943 "The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events, some of which use other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events."), and represents the event object of an event sent on a document or worker when its content security policy is violated.


## Constructor<a name="Constructor"></a>
<dl><dt id=''>[`SecurityPolicyViolationEvent()`](%18406 "The SecurityPolicyViolationEvent constructor creates a new SecurityPolicyViolationEvent object instance.")</dt><dd>Creates a new`SecurityPolicyViolationEvent`object instance.</dd></dl>
## Properties<a name="Properties"></a>
<dl><dt id=''>[`SecurityPolicyViolationEvent.blockedURI`](%18407 "The blockedURI read-only property of the SecurityPolicyViolationEvent interface is a USVString representing the URI of the resource that was blocked because it violates a policy.")Read only</dt><dd>A[`USVString`](%4541 "USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on. USVString is equivalent to DOMString except for not allowing unpaired surrogate codepoints. Unpaired surrogate codepoints present in USVString are converted by the browser to Unicode 'replacement character' U+FFFD, (�).")representing the URI of the resource that was blocked because it violates a policy.</dd><dt id=''>[`SecurityPolicyViolationEvent.columnNumber`](%18408 "The columnNumber read-only property of the SecurityPolicyViolationEvent interface is the column number in the document or worker at which the violation occurred.")Read only</dt><dd>The column number in the document or worker at which the violation occurred.</dd><dt id=''>[`SecurityPolicyViolationEvent.disposition`](%18409 "The disposition read-only property of the SecurityPolicyViolationEvent interface indicates how the violated policy is configured to be treated by the user agent.")Read only</dt><dd>Indicates how the violated policy is configured to be treated by the user agent. This will be`"enforce"`or`"report"`.</dd><dt id=''>[`SecurityPolicyViolationEvent.documentURI`](%18410 "The documentURI read-only property of the SecurityPolicyViolationEvent interface is a USVString representing the URI of the document or worker in which the violation was found.")Read only</dt><dd>A[`USVString`](%4541 "USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on. USVString is equivalent to DOMString except for not allowing unpaired surrogate codepoints. Unpaired surrogate codepoints present in USVString are converted by the browser to Unicode 'replacement character' U+FFFD, (�).")representing the URI of the document or worker in which the violation was found.</dd><dt id=''>[`SecurityPolicyViolationEvent.effectiveDirective`](%18411 "The effectiveDirective read-only property of the SecurityPolicyViolationEvent interface is a DOMString representing the directive whose enforcement uncovered the violation.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")representing the directive whose enforcement uncovered the violation.</dd><dt id=''>[`SecurityPolicyViolationEvent.lineNumber`](%18412 "The lineNumber read-only property of the SecurityPolicyViolationEvent interface is the line number in the document or worker at which the violation occurred.")Read only</dt><dd>The line number in the document or worker at which the violation occurred.</dd><dt id=''>[`SecurityPolicyViolationEvent.originalPolicy`](%18413 "The originalPolicy read-only property of the SecurityPolicyViolationEvent interface is a DOMString containing the policy whose enforcement uncovered the violation.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing the policy whose enforcement uncovered the violation.</dd><dt id=''>[`SecurityPolicyViolationEvent.referrer`](%18414 "The referrer read-only property of the SecurityPolicyViolationEvent interface is a USVString representing the referrer of the resources whose policy was violated. This will be a URL or null.")Read only</dt><dd>A[`USVString`](%4541 "USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on. USVString is equivalent to DOMString except for not allowing unpaired surrogate codepoints. Unpaired surrogate codepoints present in USVString are converted by the browser to Unicode 'replacement character' U+FFFD, (�).")representing the referrer of the resources whose policy was violated. This will be a URL or`null`.</dd><dt id=''>[`SecurityPolicyViolationEvent.sample`](%18415 "The sample read-only property of the SecurityPolicyViolationEvent interface is a DOMString representing a sample of the resource that caused the violation.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")representing a sample of the resource that caused the violation, usually the first 40 characters. This will only be populated if the resource is an inline script, event handler, or style — external resources causing a violation will not generate a sample.</dd><dt id=''>[`SecurityPolicyViolationEvent.sourceFile`](%18416 "The sourceFile read-only property of the SecurityPolicyViolationEvent interface is a USVString representing the URI of the document or worker in which the violation was found.")Read only</dt><dd>A[`USVString`](%4541 "USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on. USVString is equivalent to DOMString except for not allowing unpaired surrogate codepoints. Unpaired surrogate codepoints present in USVString are converted by the browser to Unicode 'replacement character' U+FFFD, (�).")representing the URI of the document or worker in which the violation was found.</dd><dt id=''>[`SecurityPolicyViolationEvent.statusCode`](%18417 "The statusCode read-only property of the SecurityPolicyViolationEvent interface is a number representing the HTTP status code of the document or worker in which the violation occurred.")Read only</dt><dd>A number representing the HTTP status code of the document or worker in which the violation occurred.</dd><dt id=''>[`SecurityPolicyViolationEvent.violatedDirective`](%18418 "The violatedDirective read-only property of the SecurityPolicyViolationEvent interface is a DOMString representing the directive whose enforcement uncovered the violation.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")representing the directive whose enforcement uncovered the violation.</dd></dl>
## Examples<a name="Examples"></a>

```
document.addEventListener("securitypolicyviolation", (e) => {
  console.log(e.blockedURI);    
  console.log(e.violatedDirective);    
  console.log(e.originalPolicy);
});
```

## Specifications<a name="Specifications"></a>
Specification | Status | Comment 
[Content Security Policy Level 3<br></br><small>The definition of &#39;SecurityPolicyViolationEvent&#39; in that specification.</small>](%18419 "") | Working Draft | Initial definition. 


## Browser compatibility<a name="Browser_compatibility"></a>
[新的兼容性表格正在测试中<i></i>](%3360 "")
<abbr>Desktop<i></i></abbr> | <abbr>Mobile<i></i></abbr> 
<abbr>Chrome<i></i></abbr> | <abbr>Edge<i></i></abbr> | <abbr>Firefox<i></i></abbr> | <abbr>Internet Explorer<i></i></abbr> | <abbr>Opera<i></i></abbr> | <abbr>Safari<i></i></abbr> | <abbr>Android webview<i></i></abbr> | <abbr>Chrome for Android<i></i></abbr> | <abbr>Edge Mobile<i></i></abbr> | <abbr>Firefox for Android<i></i></abbr> | <abbr>Opera for Android<i></i></abbr> | <abbr>iOS Safari<i></i></abbr> | <abbr>Samsung Internet<i></i></abbr> 
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  | 
Basic support<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
`SecurityPolicyViolationEvent`support in workers | <abbr>Full support</abbr>56 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>43 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>56 | <abbr>Full support</abbr>56 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>43 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>6.0 
[`SecurityPolicyViolationEvent()`constructor](%18420 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`blockedURI`](%18421 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`columnNumber`](%18422 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`disposition`](%18423 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`documentURI`](%18424 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`effectiveDirective`](%18425 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`lineNumber`](%18426 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`originalPolicy`](%18427 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`referrer`](%18428 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`sample`](%18429 "") | <abbr>Full support</abbr>59 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>46 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59 | <abbr>Full support</abbr>59 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>46 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>7.0 
[`sourceFile`](%18430 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`statusCode`](%18431 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 
[`violatedDirective`](%18432 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>59<abbr>Disabled<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes 


### Legend<a name="Legend"></a>
<dl><dt id=''><abbr>Full support</abbr></dt><dd>Full support</dd><dt id=''><abbr>No support</abbr></dt><dd>No support</dd><dt id=''><abbr>Experimental. Expect behavior to change in the future.<i></i></abbr></dt><dd>Experimental. Expect behavior to change in the future.</dd><dt id=''><abbr>User must explicitly enable this feature.<i></i></abbr></dt><dd>User must explicitly enable this feature.</dd></dl>


## See also<a name="See_also"></a>

* [Content Security Policy (CSP)](%18433 "")







## 文档标签和贡献者
**标签：**
* [API](%50 "")
* [CSP](%18434 "")
* [Experimental](%3379 "")
* [HTTP](%18435 "")
* [Interface](%3380 "")
* [Reference](%3381 "")
* [Security](%18436 "")
* [SecurityPolicyViolationEvent](%18437 "")

**此页面的贡献者：**[fscholz](%60 ""),[chrisdavidmills](%3495 ""),[tocretpa](%9666 ""),[mattwojo](%14635 ""),[david_ross](%3412 ""),[jpmedley](%3413 "")
**最后编辑者:**[fscholz](%60 ""),<time>Feb 6, 2018, 1:22:50 PM</time>


