---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/NotificationEvent
---



<bdi>我们的志愿者还没有将这篇文章翻译为<bdi>中文 (简体)</bdi>。[加入我们帮助完成翻译]15718 "")<br></br>您也可以阅读此文章的[English (US)]15719 "")版。</bdi>






**This is an[experimental technology]3404 "")**<br></br>Check the[Browser compatibility table]15720 "")carefully before using this in production.




The parameter passed into the[`onnotificationclick`]15721 "")handler, the`NotificationEvent`interface represents a notification click event that is dispatched on the[`ServiceWorkerGlobalScope`]4888 "The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker.")of a[`ServiceWorker`]4351 "The ServiceWorker interface of the ServiceWorker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object.").



This interface inherits from the[`ExtendableEvent`]10742 "The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.")interface.


## Constructor<a name="Constructor"></a>
<dl><dt>[`NotificationEvent.NotificationEvent()`]15722 "The NotificationEvent() constructor creates a new NotificationEvent object.")</dt><dd>Creates a new`NotificationEvent`object.</dd></dl>
## Properties<a name="Properties"></a>


<em>Inherits properties from its ancestor,[`Event`]3943 "The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of events, some of which use other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events.")</em>.

<dl><dt>[`NotificationEvent.notification`]15723 "The notification read-only property of the NotificationEvent interface returns the instance of the Notification that was clicked to fire the event. The Notification provides read-only access to many properties that were set at the instantiation time of the Notification such as tag and data attributes that allow you to store information for defered use in the notificationclick event.")Read only</dt><dd>Returns a[`Notification`]15724 "The Notification interface of the Notifications API is used to configure and display desktop notifications to the user.")object representing the notification that was clicked to fire the event.</dd><dt>[`NotificationEvent.action`]15725 "Returns the string ID of the notification button the user clicked. This value returns undefined if the user clicked the notification somewhere other than an action button, or the notification does not have a button. The notification id is set during the creation of the Notification via the actions array attribute and can't be modified unless the notification is replaced.")Read only</dt><dd>Returns the string ID of the notification button the user clicked. This value returns`undefined`if the user clicked the notification somewhere other than an action button, or the notification does not have a button.</dd></dl>
## Methods<a name="Methods"></a>


<em>Inherits methods from its parent,</em><em>[`ExtendableEvent`]10742 "The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.")</em>.

<dl><dt>[`ExtendableEvent.waitUntil()`]14343 "The extendableEvent.waitUntil() method tells the event dispatcher that work is ongoing. It can also be used to detect whether that work was successful. In service workers, waitUntil() tells the browser that work is ongoing until the promise settles, and it shouldn't terminate the service worker if it wants that work to complete.")</dt><dd>

Extends the lifetime of the event. It is intended to be called in the`[install]15726 "/en-US/docs/Web/Events/install")`[`EventHandler`]4338 "A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:")for the[`installing`]14345 "The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null.")worker and on the`[active]15727 "/en-US/docs/Web/Events/active")`[`EventHandler`]4338 "A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:")for the[`active`]15728 "The active property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is activating or activated. This property is initially set to null.")worker.

</dd></dl>
## Example<a name="Example"></a>

```
self.addEventListener('notificationclick', function(event) {
  console.log('On notification click: ', event.notification.tag);
  event.notification.close();

  // This looks to see if the current is already open and
  // focuses if it is
  event.waitUntil(clients.matchAll({
    type: "window"
  }).then(function(clientList) {
    for (var i = 0; i < clientList.length; i++) {
      var client = clientList[i];
      if (client.url == '/' && 'focus' in client)
        return client.focus();
    }
    if (clients.openWindow)
      return clients.openWindow('/');
  }));
});
```

## Specifications<a name="Specifications"></a>
 |  |  
[Notifications API<br></br><small>The definition of &#39;NotificationEvent&#39; in that specification.</small>]15729 "") | Living Standard | Living standard. 



**Note**: This interface is specified in the[Notifications API]15685 ""), but accessed through[`ServiceWorkerGlobalScope`]4888 "The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker.").



## Browser Compatibility<a name="Browser_Compatibility"></a>
[新的兼容性表格正在测试中<i></i>]3360 "")
<abbr>Desktop<i></i></abbr> | <abbr>Mobile<i></i></abbr> 
<abbr>Chrome<i></i></abbr> | <abbr>Edge<i></i></abbr> | <abbr>Firefox<i></i></abbr> | <abbr>Internet Explorer<i></i></abbr> | <abbr>Opera<i></i></abbr> | <abbr>Safari<i></i></abbr> | <abbr>Android webview<i></i></abbr> | <abbr>Chrome for Android<i></i></abbr> | <abbr>Edge Mobile<i></i></abbr> | <abbr>Firefox for Android<i></i></abbr> | <abbr>Opera for Android<i></i></abbr> | <abbr>iOS Safari<i></i></abbr> | <abbr>Samsung Internet<i></i></abbr> 
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  | 
Basic support<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>42 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>44<abbr>Notes<i></i></abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>42 | <abbr>?</abbr> | <abbr>Full support</abbr>44 | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>Full support</abbr>4.0 
[`NotificationEvent`constructor]15730 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>42 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>44<abbr>Notes<i></i></abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>42 | <abbr>?</abbr> | <abbr>Full support</abbr>44 | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>Full support</abbr>4.0 
[`notification`]15731 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>42 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>44<abbr>Notes<i></i></abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>42 | <abbr>?</abbr> | <abbr>Full support</abbr>44 | <abbr>Full support</abbr>37 | <abbr>?</abbr> | <abbr>Full support</abbr>4.0 
[`action`]15732 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>48 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>44<abbr>Notes<i></i></abbr> | <abbr>?</abbr> | <abbr>No support</abbr>No | <abbr>?</abbr> | <abbr>No support</abbr>No | <abbr>Full support</abbr>48 | <abbr>?</abbr> | <abbr>Full support</abbr>44 | <abbr>No support</abbr>No | <abbr>?</abbr> | <abbr>Full support</abbr>5.0 


### Legend<a name="Legend"></a>
<dl><dt><abbr>Full support</abbr></dt><dd>Full support</dd><dt><abbr>No support</abbr></dt><dd>No support</dd><dt><abbr>Compatibility unknown</abbr></dt><dd>Compatibility unknown</dd><dt><abbr>Experimental. Expect behavior to change in the future.<i></i></abbr></dt><dd>Experimental. Expect behavior to change in the future.</dd><dt><abbr>See implementation notes.<i></i></abbr></dt><dd>See implementation notes.</dd></dl>




## 文档标签和贡献者
**标签：**
* [API]50 "")
* [Experimental]3379 "")
* [Interface]3380 "")
* [NotificationEvent]15733 "")
* [Reference]3381 "")
* [Service Workers]4709 "")
* [ServiceWorker]4904 "")

**此页面的贡献者：**[fscholz]60 ""),[jpmedley]3413 ""),[chrisdavidmills]3495 ""),[rolfedh]3542 "")
**最后编辑者:**[fscholz]60 ""),<time>Feb 23, 2018, 7:49:10 AM</time>


