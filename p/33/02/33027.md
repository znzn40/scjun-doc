---
manual:CSS
version:0
lang:zh
rawUrl:https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-calc
---





The**`calc()`**[CSS](%427 "")function lets you perform calculations when specifying CSS property values. It can be used anywhere a[`<length>`](%4561 "The <length> CSS data type represents a distance value. Lengths can be used in numerous CSS properties, such as width, height, margin, padding, border-width, font-size, and text-shadow."),[`<frequency>`](%4565 "The <frequency> CSS data type represents a frequency dimension, such as the pitch of a speaking voice. It is not currently used in any CSS properties."),[`<angle>`](%4563 "The <angle> CSS data type represents an angle value expressed in degrees, gradians, radians, or turns. It is used, for example, in <gradient>s and in some transform functions."),[`<time>`](%4566 "The <time> CSS data type represents a time value expressed in seconds or milliseconds. It is used in animation, transition, and related properties."),[`<percentage>`](%4567 "The <percentage> CSS data type represents a percentage value. It is often used to define a size as relative to an element's parent object. Numerous properties can use percentages, such as width, height, margin, padding, and font-size."),[`<number>`](%4564 "The <number> CSS data type represents a number, being either an integer or a number with a fractional component."), or[`<integer>`](%28331 "The <integer> CSS data type is a special type of <number> that represents a whole number, whether positive or negative. Integers can be used in numerous CSS properties, such as column-count, counter-increment, grid-column, grid-row, and z-index.")is allowed.


```
/* property: calc(expression) */
width: calc(100% - 80px);
```

## Syntax<a name="Syntax"></a>


The`calc()`function takes a single expression as its parameter, with the expression&#39;s result used as the value. The expression can be any simple expression combining the following operators, using standard operator precedence rules:

<dl><dt id=''>`+`</dt><dd>Addition.</dd><dt id=''>`-`</dt><dd>Subtraction.</dd><dt id=''>`*`</dt><dd>Multiplication. At least one of the arguments must be a[`<number>`](%4564 "The <number> CSS data type represents a number, being either an integer or a number with a fractional component.").</dd><dt id=''>`/`</dt><dd>Division. The right-hand side must be a[`<number>`](%4564 "The <number> CSS data type represents a number, being either an integer or a number with a fractional component.").</dd></dl>

The operands in the expression may be any[`<length>`](%4561 "The <length> CSS data type represents a distance value. Lengths can be used in numerous CSS properties, such as width, height, margin, padding, border-width, font-size, and text-shadow.")syntax value. You can use different units for each value in your expression, if you wish. You may also use parentheses to establish computation order when needed.



**Note:**Division by zero results in an error being generated by the HTML parser.




**Note:**The`+`and`-`operators must be surrounded by whitespace. For instance,`calc(50% -8px)`will be parsed as a percentage followed by a negative length—an invalid expression—while`calc(50% - 8px)`is a percentage followed by a subtraction operator and a length. Likewise,`calc(8px + -50%)`is treated as a length followed by an addition operator and a negative percentage.



The`*`and`/`operators do not require whitespace, but adding it for consistency is both allowed and recommended.




**Note:**Math expressions involving percentages for widths and heights on table columns, table column groups, table rows, table row groups, and table cells in both auto and fixed layout tables*may*be treated as if`auto`had been specified.




**Note:**It is permitted to nest`calc()`functions, in which case the inner ones are treated as simple parentheses.



### Formal syntax<a name="Formal_syntax"></a>

```
calc( <calc-sum> )where <calc-sum> = <calc-product> [ [ '+' | '-' ] <calc-product> ]*where <calc-product> = <calc-value> [ '*' <calc-value> | '/' <number> ]*where <calc-value> = <number> | <dimension> | <percentage> | ( <calc-sum> )
```

## Examples<a name="Examples"></a>

### Positioning an object on screen with a margin<a name="Positioning_an_object_on_screen_with_a_margin"></a>


`calc()`makes it easy to position an object with a set margin. In this example, the CSS creates a banner that stretches across the window, with a 40-pixel gap between both sides of the banner and the edges of the window:


```
.banner {
  position: absolute;
  left: 40px;
  width: calc(100% - 80px);
  border: solid black 1px;
  box-shadow: 1px 2px;
  background-color: yellow;
  padding: 6px;
  text-align: center;
  box-sizing: border-box;
}
```

```
<div class="banner">This is a banner!</div>
```


<iframe src='https://mdn.mozillademos.org/en-US/docs/Web/CSS/calc$samples/Positioning_an_object_on_screen_with_a_margin?revision=1388874' width='auto' height='60'></iframe>



### Automatically sizing form fields to fit their container<a name="Automatically_sizing_form_fields_to_fit_their_container"></a>


Another use case for`calc()`is to help ensure that form fields fit in the available space, without extruding past the edge of their container, while maintaining an appropriate margin.



Let&#39;s look at some CSS:


```
input {
  padding: 2px;
  display: block;
  width: calc(100% - 1em);
}

#formbox {
  width: calc(100% / 6);
  border: 1px solid black;
  padding: 4px;
}
```


Here, the form itself is established to use 1/6 of the available window width. Then, to ensure that input fields retain an appropriate size, we use`calc()`again to establish that they should be the width of their container minus 1em. Then, the following HTML makes use of this CSS:


```
<form>
  <div id="formbox">
  <label>Type something:</label>
  <input type="text">
  </div>
</form>
```


<iframe src='https://mdn.mozillademos.org/en-US/docs/Web/CSS/calc$samples/Automatically_sizing_form_fields_to_fit_their_container?revision=1388874' width='700' height='80'></iframe>



### Nested calc() with CSS Variables<a name="Nested_calc()_with_CSS_Variables"></a>


Consider the following code:


```
.foo {
  --widthA: 100px;
  --widthB: calc(var(--widthA) / 2);
  --widthC: calc(var(--widthB) / 2);
  width: var(--widthC);
}
```


After all variables are expanded,`widthC`&#39;s value will be`calc( calc( 100px / 2) / 2)`, then when it&#39;s assigned to`.foo`&#39;s width property, all inner`calc()`s (no matter how deeply nested) will be flattened to just parentheses, so the`width`property&#39;s value will be eventually`calc( ( 100px / 2) / 2)`, i.e.`25px`. In short: a`calc()`inside of a`calc()`is identical to just parentheses.


## Accessibility concerns<a name="Accessibility_concerns"></a>


When`calc()`is used for controlling text size, be sure that one of the values includes a[relative length unit](%33853 ""), for example:


```
h1 {
  font-size: calc(1.5rem + 3vw);
}
```


This ensures that text size will scale if the page is zoomed.


* [MDN Understanding WCAG, Guideline 1.4 explanations](%30213 "")
* [Understanding Success Criterion 1.4.4 | W3C Understanding WCAG 2.0](%30475 "")

## Specifications<a name="Specifications"></a>

Specification | Status | Comment 
 ---  |  ---  |  ---  | 
[CSS Values and Units Module Level 3<br></br><small>The definition of &#39;calc()&#39; in that specification.</small>](%29308 "") | Candidate Recommendation | Initial definition 


## Browser compatibility<a name="Browser_compatibility"></a>
[New compatibility tables are in beta<i></i>](%3360 "")

 | <abbr>Desktop<i></i></abbr> | <abbr>Mobile<i></i></abbr> 
 | <abbr>Chrome<i></i></abbr> | <abbr>Edge<i></i></abbr> | <abbr>Firefox<i></i></abbr> | <abbr>Internet Explorer<i></i></abbr> | <abbr>Opera<i></i></abbr> | <abbr>Safari<i></i></abbr> | <abbr>Android webview<i></i></abbr> | <abbr>Chrome for Android<i></i></abbr> | <abbr>Edge Mobile<i></i></abbr> | <abbr>Firefox for Android<i></i></abbr> | <abbr>Opera for Android<i></i></abbr> | <abbr>iOS Safari<i></i></abbr> | <abbr>Samsung Internet<i></i></abbr> 
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  | 
Basic support | <abbr>Full support</abbr>26 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>16<abbr>Notes<i></i></abbr> | <abbr>Full support</abbr>9 | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>7 | <abbr>?</abbr> | <abbr>Full support</abbr>28 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>16<abbr>Notes<i></i></abbr> | <abbr>Full support</abbr>21 | <abbr>Full support</abbr>7 | <abbr>Full support</abbr>Yes 
Gradient color stops support | <abbr>Full support</abbr>19 | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>19 | <abbr>Full support</abbr>9 | <abbr>?</abbr> | <abbr>Full support</abbr>6 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>19 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 
Nested`calc()`support | <abbr>Full support</abbr>51 | <abbr>?</abbr> | <abbr>Full support</abbr>48 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>51 | <abbr>?</abbr> | <abbr>Full support</abbr>48 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>5.0 
`<number>`value support | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>48 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>48 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 
`<color>`value support | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>59 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>Full support</abbr>59 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 
[Media query](%33854 "")value support | <abbr>Full support</abbr>66 | <abbr>No support</abbr>No | <abbr>Full support</abbr>59 | <abbr>No support</abbr>No | <abbr>Full support</abbr>53 | <abbr>No support</abbr>No | <abbr>No support</abbr>No | <abbr>Full support</abbr>66 | <abbr>No support</abbr>No | <abbr>No support</abbr>No | <abbr>Full support</abbr>53 | <abbr>No support</abbr>No | <abbr>No support</abbr>No 


### Legend<a name="Legend"></a>
<dl><dt id=''><abbr>Full support</abbr></dt><dd>Full support</dd><dt id=''><abbr>No support</abbr></dt><dd>No support</dd><dt id=''><abbr>Compatibility unknown</abbr></dt><dd>Compatibility unknown</dd><dt id=''><abbr>See implementation notes.<i></i></abbr></dt><dd>See implementation notes.</dd><dt id=''><abbr>Requires a vendor prefix or different name for use.<i></i></abbr></dt><dd>Requires a vendor prefix or different name for use.</dd></dl>


## See also<a name="See_also"></a>

* [Firefox 4: CSS3 calc() ✩ Mozilla Hacks – the Web developer blog](%29315 "")



