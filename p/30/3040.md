---
manual:WebAPI
version:0
lang:zh
rawUrl:https://developer.mozilla.org/zh-CN/docs/Web/API/RTCIceCandidate
---



<bdi>我们的志愿者还没有将这篇文章翻译为<bdi>中文 (简体)</bdi>。[加入我们帮助完成翻译](%16767 "")<br></br>您也可以阅读此文章的[English (US)](%16768 "")版。</bdi>






The**`RTCIceCandidate`**interface—part of the[WebRTC API](%14655 "")—represents a candidate Internet Connectivity Establishment ([ICE](%16769 "ICE: ICE (Interactive Connectivity Establishment) is a framework used by WebRTC (among other technologies) for connecting two peers to each other, regardless of network topology (usually for audio and/or video chat). This protocol lets two peers find and establish a connection with one another even though they may both be using Network Address Translator (NAT) to share a global IP address with other devices on their respective local networks.")) server which may be used to establish an[`RTCPeerConnection`](%16675 "The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed.").



An ICE candidate describes the protocols and routing needed for WebRTC to be able to communicate with a remote device. When starting a WebRTC peer connection, typically a number of candidates are proposed by each end of the connection, until they mutually agree upon one which describes the connection they decide will be best. WebRTC then uses that candidate&#39;s details to initiate the connection.



For details on how the ICE process works, see[Lifetime of a WebRTC session](%16770 ""). The article[WebRTC connectivity](%16771 "")provides additional useful details.


## Constructor<a name="Constructor"></a>
<dl><dt>[`RTCIceCandidate()`](%16772 "The RTCIceCandidate() constructor creates and returns a new RTCIceCandidate object, which can be configured to represent a single ICE candidate.")</dt><dd>Creates an`RTCIceCandidate`object to represent a single ICE candidate, optionally configured based on an object based on the[`RTCIceCandidateInit`](%16773 "The WebRTC API's RTCIceCandidateInit dictionary, which contains the information needed to fundamentally describe an RTCIceCandidate.")dictionary.**Note:**For backward compatibility, the constructor also accepts as input a string containing the value of the[`candidate`](%16774 "The read-only property candidate on the RTCIceCandidate interface returns a DOMString describing the candidate in detail.")property instead of a[`RTCIceCandidateInit`](%16773 "The WebRTC API's RTCIceCandidateInit dictionary, which contains the information needed to fundamentally describe an RTCIceCandidate.")object, since the`candidate`includes all of the information that`RTCIceCandidateInit`does and more.
</dd></dl>
## Properties<a name="Properties"></a>
<dl><dt>[`candidate`](%16774 "The read-only property candidate on the RTCIceCandidate interface returns a DOMString describing the candidate in detail.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")representing the transport address for the candidate that can be used for connectivity checks. The format of this address is a`candidate-attribute`as defined in[RFC 5245](%16775 ""). This string is empty (`""`) if the`RTCIceCandidate`is an &quot;end of candidates&quot; indicator.</dd><dt>[`component`](%16776 "The read-only component property on the RTCIceCandidate interface is a string which indicates whether the candidate is an RTP or an RTCP candidate.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")which indicates whether the candidate is an RTP or an RTCP candidate; its value is either`"rtp"`or`"rtcp"`, and is derived from the`"component-id"`field in the`candidate`a-line string. The permitted values are listed in the[`RTCIceComponent`](%16777 "The WebRTC API's RTCIceComponent enumerated type contains DOMString values that each identify a specific ICE component; these are "rtp" and "rtcp".")enumerated type.</dd><dt>[`foundation`](%16778 "The RTCIceCandidate interface's read-only foundation property is a string which uniquely identifies the candidate across multiple transports.")Read only</dt><dd>Returns a[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing a unique identifier that is the same for any candidates of the same type, share the same base (the address from which the ICE agent sent the candidate), and come from the same[STUN](%16779 "STUN: STUN (Session Traversal Utilities for NAT) is an auxiliary protocol for transmitting data around a NAT (Network Address Translator). STUN returns the IP address, port, and connectivity status of a networked computer behind a NAT.")server. This is used to help optimize ICE performance while prioritizing and correlating candidates that appear on multiple[`RTCIceTransport`](%16780 "The documentation about this has not yet been written; please consider contributing!")objects.</dd><dt>[`ip`](%16781 "The RTCIceCandidate interface's read-only ip property is a string providing the address of the device which is the source of the candidate.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing the IP address of the candidate.</dd><dt>[`port`](%16782 "The RTCIceCandidate interface's read-only port property contains the port number on the device at the address given by ip at which the candidate's peer can be reached.")Read only</dt><dd>An integer value indicating the candidate&#39;s port number.</dd><dt>[`priority`](%16783 "The RTCIceCandidate interface's read-only priority property specifies the candidate's priority according to the remote peer; the higher this value is, the better the remote peer considers the candidate to be.")Read only</dt><dd>A long integer value indicating the candidate&#39;s priority.</dd><dt>[`protocol`](%16784 "The RTCIceCandidate interface's read-only protocol property is a string which indicates whether the candidate uses UDP or TCP as its transport protocol.")Read only</dt><dd>A string indicating whether the candidate&#39;s protocol is`"tcp"`or`"udp"`. The string is one of those in the enumerated type`RTCIceProtocol`.</dd><dt>[`relatedAddress`](%16785 "The RTCIceCandidate interface's read-only relatedAddress property is a string indicating the related address of a relay or reflexive candidate.")Read only</dt><dd>If the candidate is derived from another candidate,`relatedAddress`is a[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing that host candidate&#39;s IP address. For host candidates, this value is`null`.</dd><dt>[`relatedPort`](%16786 "The RTCIceCandidate interface's read-only relatedPort property indicates the port number of reflexive or relay candidates.")Read only</dt><dd>For a candidate that is derived from another, such as a relay or reflexive candidate, the`<dfn>relatedPort</dfn>`is a number indicating the port number of the candidate from which this candidate is derived. For host candidates, the`relatedPort`property is`null`.</dd><dt>[`sdpMid`](%16787 "The read-only property sdpMid on the RTCIceCandidate interface returns a DOMString specifying the media stream identification tag of the media component with which the candidate is associated.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")specifying the candidate&#39;s media stream identification tag which uniquely identifies the media stream within the component with which the candidate is associated, or`null`if no such association exists.</dd><dt>[`sdpMLineIndex`](%16788 "The read-only sdpMLineIndex property on the RTCIceCandidate interface is a zero-based index of the m-line describing the media associated with the candidate.")Read only</dt><dd>If not`null`,`sdpMLineIndex`indicates the zero-based index number of the media description (as defined in[RFC 4566](%16789 "")) in the[SDP](%16790 "SDP: SDP (Session Description Protocol) is the standard describing a peer-to-peer connection. SDP contains the codec, source address, and timing information of audio and video.")with which the candidate is associated.</dd><dt>[`tcpType`](%16791 "The RTCIceCandidate interface's read-only tcpType property is included on TCP candidates to provide additional details about the candidate type.")Read only</dt><dd>If`protocol`is`"tcp"`,`tcpType`represents the type of TCP candidate. Otherwise,`tcpType`is`null`.</dd><dt>[`type`](%16792 "The RTCIceCandidate interface's read-only type specifies the type of candidate the object represents.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")indicating the type of candidate as one of the strings from the[`RTCIceCandidateType`](%16793 "The WebRTC API's RTCIceCandidateType enumerated type provides a set of DOMString values representing the types of ICE candidate that can arrive.")enumerated type.</dd><dt>[`usernameFragment`](%16794 "The read-only usernameFragment property on the RTCIceCandidate interface is a string indicating the username fragment ("ufrag") that uniquely identifies a single ICE interaction session.")Read only</dt><dd>A[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing a randomly-generated username fragment (&quot;ice-ufrag&quot;) which ICE uses for message integrity along with a randomly-generated password (&quot;ice-pwd&quot;). You can use this string to verify generations of ICE generation; each generation of the same ICE process will use the same`usernameFragment`, even across ICE restarts.</dd></dl>
## Methods<a name="Methods"></a>
<dl><dt>[`toJSON()`](%16795 "The RTCIceCandidate method toJSON() converts the RTCIceCandidate on which it's called into JSON in the form of an RTCIceCandidateInit object.")</dt><dd>Given the`RTCIceCandidate`&#39;s current configuration,`toJSON()`returns a[`DOMString`](%3945 "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.")containing a[JSON](%16796 "JSON: JavaScript Object Notation (JSON) is a data-interchange format.  Although not a strict subset, JSON closely resembles a subset of JavaScript syntax. Though many programming languages support JSON, JSON is especially useful for JavaScript-based apps, including websites and browser extensions.")representation of that configuration in the form of a[`RTCIceCandidateInit`](%16773 "The WebRTC API's RTCIceCandidateInit dictionary, which contains the information needed to fundamentally describe an RTCIceCandidate.")object.</dd></dl>
## Examples<a name="Examples"></a>


For examples, see the article[Signaling and video calling](%16797 ""), which demonstrates the entire process.


## Specifications<a name="Specifications"></a>
Specification | Status | Comment 
[WebRTC 1.0: Real-time Communication Between Browsers<br></br><small>The definition of &#39;RTCIceCandidate&#39; in that specification.</small>](%16798 "") | Candidate Recommendation | Initial definition. 


## Browser compatibility<a name="Browser_compatibility"></a>
[新的兼容性表格正在测试中<i></i>](%3360 "")
<abbr>Desktop<i></i></abbr> | <abbr>Mobile<i></i></abbr> 
<abbr>Chrome<i></i></abbr> | <abbr>Edge<i></i></abbr> | <abbr>Firefox<i></i></abbr> | <abbr>Internet Explorer<i></i></abbr> | <abbr>Opera<i></i></abbr> | <abbr>Safari<i></i></abbr> | <abbr>Android webview<i></i></abbr> | <abbr>Chrome for Android<i></i></abbr> | <abbr>Edge Mobile<i></i></abbr> | <abbr>Firefox for Android<i></i></abbr> | <abbr>Opera for Android<i></i></abbr> | <abbr>iOS Safari<i></i></abbr> | <abbr>Samsung Internet<i></i></abbr> 
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  | 
Basic support<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[RTCIceCandidate()](%16799 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`candidate`](%16800 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`foundation`](%16801 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`ip`](%16802 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`port`](%16803 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`priority`](%16804 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`protocol`](%16805 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`relatedAddress`](%16806 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`relatedPort`](%16807 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`sdpMid`](%16808 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`sdpMLineIndex`](%16809 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>15 | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`tcpType`](%16810 "")<abbr>Experimental<i></i></abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`type`](%16811 "") | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>22 | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes | <abbr>?</abbr> | <abbr>Full support</abbr>Yes 
[`component`](%16812 "") | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 
[`usernameFragment`](%16813 "") | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 
[`toJSON`](%16814 "") | <abbr>?</abbr> | <abbr>Full support</abbr>15 | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> | <abbr>?</abbr> 


### Legend<a name="Legend"></a>
<dl><dt><abbr>Full support</abbr></dt><dd>Full support</dd><dt><abbr>Compatibility unknown</abbr></dt><dd>Compatibility unknown</dd><dt><abbr>Experimental. Expect behavior to change in the future.<i></i></abbr></dt><dd>Experimental. Expect behavior to change in the future.</dd></dl>




## 文档标签和贡献者
**标签：**
* [API](%50 "")
* [Candidate](%16815 "")
* [Connection](%16816 "")
* [Connectivity](%16817 "")
* [ICE](%16818 "")
* [Interface](%3380 "")
* [Media](%3827 "")
* [Reference](%3381 "")
* [RTCIceCandidate](%16819 "")
* [SDP](%16820 "")
* [Web RTC](%16821 "")
* [WebRTC](%5058 "")
* [WebRTC API](%14659 "")

**此页面的贡献者：**[Sheppy](%405 ""),[fscholz](%60 ""),[abbycar](%15784 ""),[rolfedh](%3542 ""),[jpmedley](%3413 "")
**最后编辑者:**[Sheppy](%405 ""),<time>Jun 26, 2018, 7:19:55 AM</time>


